# å¤šè§’è‰²å®¹é‡æ‰©å®¹è¯Šæ–­æŠ¥è¡¨ç³»ç»Ÿ

ä¸€ä¸ªä¸ºä¸åŒè§’è‰²æä¾›å®¹é‡æ‰©å®¹å†³ç­–æ”¯æŒçš„ç»¼åˆæ€§æŠ¥è¡¨ç³»ç»Ÿã€‚

## ç³»ç»Ÿæ¦‚è¿°

æœ¬ç³»ç»Ÿä¸º4ä¸ªä¸åŒè§’è‰²æä¾›ä¸“é—¨çš„å®¹é‡æ‰©å®¹è¯Šæ–­æŠ¥è¡¨ï¼š

### ğŸ¯ æ ¸å¿ƒé—®é¢˜
**å“ªäº›èµ„æºéœ€è¦æ‰©å®¹ï¼Œä»€ä¹ˆæ—¶å€™å¿…é¡»æ‰©ï¼Œä¼˜å…ˆçº§æ˜¯ä»€ä¹ˆ**

### ğŸ“Š è§’è‰²è§†è§’

#### 1ï¸âƒ£ CTOè§†è§’
- **å…³æ³¨ç‚¹**: æŠ€æœ¯ä¸Šå“ªäº›ç»„ä»¶éœ€è¦æ‰©å®¹ï¼Œæ€ä¹ˆæ‰©ï¼Ÿ
- **å†…å®¹**: ç»„ä»¶ä½¿ç”¨ç‡ã€é¢„æµ‹é¥±å’Œæ—¶é—´ã€æ‰©å®¹æ–¹æ¡ˆã€å·¥ä½œé‡è¯„ä¼°
- **ç‰¹è‰²**: å¡ç‰‡å¼å±•ç¤ºï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åºï¼ŒæŠ€æœ¯ç»†èŠ‚ä¸°å¯Œ

#### 2ï¸âƒ£ CEOè§†è§’  
- **å…³æ³¨ç‚¹**: è¿™ä¼šä¸ä¼šå½±å“ä¸šåŠ¡ï¼Œå€¼ä¸å€¼å¾—æ‰©å®¹ï¼Œä»€ä¹ˆæ—¶å€™å¿…é¡»æ‰©ï¼Ÿ
- **å†…å®¹**: ä¸šåŠ¡å½±å“è¯„ä¼°ã€é£é™©ç­‰çº§ã€å†³ç­–å»ºè®®ã€æˆªæ­¢æ—¶é—´
- **ç‰¹è‰²**: é£é™©ç­‰çº§å¾½ç« ï¼Œä¸šåŠ¡å½±å“åˆ†æï¼Œå†³ç­–å¯¼å‘

#### 3ï¸âƒ£ è¿ç»´æ€»ç›‘è§†è§’
- **å…³æ³¨ç‚¹**: å…¨å±€å®¹é‡è§„åˆ’ï¼Œä»€ä¹ˆæ—¶å€™æ‰©å®¹ï¼Œæ€ä¹ˆå®‰æ’ï¼Ÿ
- **å†…å®¹**: å…¨å±€æ’åºè¡¨ã€æ‰©å®¹æ—¶é—´è¡¨ã€èµ„æºéœ€æ±‚ç»Ÿè®¡
- **ç‰¹è‰²**: è¡¨æ ¼å½¢å¼ï¼ŒæŒ‰å‘¨è®¡åˆ’ï¼Œèµ„æºæ±‡æ€»

#### 4ï¸âƒ£ è¿ç»´å·¥ç¨‹å¸ˆè§†è§’
- **å…³æ³¨ç‚¹**: å…·ä½“æ€ä¹ˆæ‰©å®¹ï¼Œæˆ‘éœ€è¦åšä»€ä¹ˆï¼Œéœ€è¦å¤šå°‘æ—¶é—´ï¼Ÿ
- **å†…å®¹**: æ‰§è¡Œæ­¥éª¤æ¸…å•ã€éªŒè¯æ–¹æ³•ã€é£é™©æç¤ºã€å·¥ä½œé‡
- **ç‰¹è‰²**: å±•å¼€å¼å¡ç‰‡ï¼Œè¯¦ç»†æ‰§è¡Œæ­¥éª¤ï¼Œé£é™©æç¤º

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯ (Node.js + Express)
- **APIç«¯ç‚¹**:
  - `GET /api/capacity/cto-dashboard` - CTOè§†è§’æ•°æ®
  - `GET /api/capacity/ceo-dashboard` - CEOè§†è§’æ•°æ®  
  - `GET /api/capacity/ops-director-dashboard` - è¿ç»´æ€»ç›‘æ•°æ®
  - `GET /api/capacity/ops-engineer-dashboard` - è¿ç»´å·¥ç¨‹å¸ˆæ•°æ®
  - `GET /api/capacity/component/:id` - ç»„ä»¶è¯¦æƒ…

### å‰ç«¯ (React + TypeScript)
- **ç»„ä»¶æ¶æ„**:
  - `CTODashboard` - CTOè§†è§’æŠ¥è¡¨
  - `CEODashboard` - CEOè§†è§’æŠ¥è¡¨
  - `OpsDirectorDashboard` - è¿ç»´æ€»ç›‘æŠ¥è¡¨
  - `OpsEngineerDashboard` - è¿ç»´å·¥ç¨‹å¸ˆæŠ¥è¡¨
  - `PriorityBadge` - ä¼˜å…ˆçº§æ ‡ç­¾
  - `CapacityIndicator` - å®¹é‡æŒ‡ç¤ºå™¨

### æ•°æ®æ¨¡å‹
åŸºäº `metrics_daily` è¡¨çš„æ ¸å¿ƒæŒ‡æ ‡ï¼š
- `current_usage_p95`: å½“å‰P95ä½¿ç”¨ç‡
- `current_usage_p99`: å½“å‰P99ä½¿ç”¨ç‡
- `is_saturated`: æ˜¯å¦å·²é¥±å’Œ(>80%)
- `saturation_severity`: é¥±å’Œç¨‹åº¦(normal/warning/critical)
- `days_to_saturation`: é¢„è®¡å¤šå°‘å¤©è¾¾åˆ°é¥±å’Œ
- `predicted_saturation_date`: é¢„è®¡é¥±å’Œæ—¥æœŸ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 16+
- npm æˆ– yarn

### å®‰è£…ä¾èµ–
```bash
# å®‰è£…åç«¯ä¾èµ–
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd client
npm install
cd ..
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
# åŒæ—¶å¯åŠ¨å‰åç«¯æœåŠ¡å™¨
npm run dev

# æˆ–è€…åˆ†åˆ«å¯åŠ¨
npm run server  # åç«¯ (ç«¯å£ 3001)
npm run client  # å‰ç«¯ (ç«¯å£ 3000)
```

### è®¿é—®åº”ç”¨
- å‰ç«¯åº”ç”¨: http://localhost:3000
- åç«¯API: http://localhost:3001

## ğŸ“‹ ä¼˜å…ˆçº§åˆ’åˆ†

| ä¼˜å…ˆçº§ | å¤©æ•° | è¯´æ˜ | é¢œè‰² |
|--------|------|------|------|
| P1 | < 7å¤© | ç«‹å³æ‰©å®¹ | ğŸ”´ çº¢è‰² |
| P2 | 7-13å¤© | è¿‘æœŸæ‰©å®¹ | ğŸŸ¡ æ©™è‰² |
| P3 | 14-29å¤© | è®¡åˆ’æ‰©å®¹ | ğŸ”µ è“è‰² |
| P4 | â‰¥30å¤© | æš‚æ— å‹åŠ› | ğŸŸ¢ ç»¿è‰² |

## ğŸ¨ ç•Œé¢ç‰¹è‰²

- **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **å®æ—¶æ•°æ®**: åŠ¨æ€æ›´æ–°å®¹é‡æŒ‡æ ‡
- **äº¤äº’å¼å¡ç‰‡**: å¯å±•å¼€æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
- **è§†è§‰åŒ–æŒ‡ç¤º**: é¢œè‰²ç¼–ç çš„ä¼˜å…ˆçº§å’Œé£é™©ç­‰çº§
- **ç»Ÿè®¡æ±‡æ€»**: å„è§’è‰²è§†è§’çš„å…³é”®æŒ‡æ ‡ç»Ÿè®¡

## ğŸ”§ æ‰©å®¹æ–¹æ¡ˆç¤ºä¾‹

| ç»„ä»¶ç±»å‹ | æ‰©å®¹æ–¹æ¡ˆ | é¢„æœŸæ•ˆæœ | å·¥ä½œé‡ |
|----------|----------|----------|--------|
| API Gateway | æ·»åŠ ç½‘å…³èŠ‚ç‚¹ï¼Œå®ç°æ°´å¹³æ‰©å±• | 50%å®¹é‡æå‡ | 16å°æ—¶ |
| DB Connection Pool | å¢åŠ è¿æ¥æ± å¤§å°ï¼Œä¼˜åŒ–æŸ¥è¯¢ | 30%å®¹é‡æå‡ | 12å°æ—¶ |
| Redis Cache | æ‰©å±•ç¼“å­˜é›†ç¾¤ï¼Œä¼˜åŒ–æ·˜æ±°ç­–ç•¥ | 40%å®¹é‡æå‡ | 8å°æ—¶ |
| Load Balancer | å‡çº§é…ç½®ï¼Œæ·»åŠ å¥åº·æ£€æŸ¥ | 25%å®¹é‡æå‡ | 6å°æ—¶ |
| Message Queue | æ‰©å±•å·¥ä½œè¿›ç¨‹ï¼Œä¼˜åŒ–å¤„ç†é€»è¾‘ | 60%å®¹é‡æå‡ | 10å°æ—¶ |

## ğŸ“ˆ ä¸šåŠ¡ä»·å€¼

1. **å¿«é€Ÿå†³ç­–**: å„è§’è‰²éƒ½èƒ½å¿«é€Ÿå®šä½éœ€è¦æ‰©å®¹çš„èµ„æº
2. **é£é™©æ§åˆ¶**: æå‰è¯†åˆ«å®¹é‡é£é™©ï¼Œé¿å…ä¸šåŠ¡ä¸­æ–­
3. **èµ„æºä¼˜åŒ–**: åˆç†å®‰æ’æ‰©å®¹æ—¶é—´å’Œèµ„æº
4. **æ•ˆç‡æå‡**: æ ‡å‡†åŒ–çš„æ‰©å®¹æµç¨‹å’Œæ‰§è¡Œæ¸…å•
5. **æˆæœ¬æ§åˆ¶**: åŸºäºæ•°æ®é©±åŠ¨çš„æ‰©å®¹å†³ç­–

## ğŸ”„ æ•°æ®æµç¨‹

1. **æ•°æ®é‡‡é›†**: ä» `metrics_daily` è¡¨æå–å®¹é‡æŒ‡æ ‡
2. **ä¼˜å…ˆçº§è®¡ç®—**: åŸºäº `days_to_saturation` è®¡ç®—ä¼˜å…ˆçº§
3. **æ‰©å®¹å»ºè®®**: æ ¹æ®ç»„ä»¶ç±»å‹ç”Ÿæˆæ‰©å®¹æ–¹æ¡ˆ
4. **æ•ˆæœé¢„æµ‹**: è¯„ä¼°æ‰©å®¹åçš„å®¹é‡æ”¹å–„
5. **å¤šè§†è§’å±•ç¤º**: ä¸ºä¸åŒè§’è‰²æä¾›å®šåˆ¶åŒ–æŠ¥è¡¨

## ğŸ› ï¸ å¼€å‘è¯´æ˜

### é¡¹ç›®ç»“æ„
```
â”œâ”€â”€ server/                 # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ controllers/        # æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ routes/            # è·¯ç”±
â”‚   â””â”€â”€ index.js           # æœåŠ¡å™¨å…¥å£
â”œâ”€â”€ client/                # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/      # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ App.tsx        # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ package.json
â””â”€â”€ package.json           # æ ¹ä¾èµ–
```

### ç”Ÿäº§éƒ¨ç½²
```bash
# æ„å»ºå‰ç«¯
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

## ğŸ“ æ”¯æŒä¸åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤Issueæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚

---

**æ³¨æ„**: å½“å‰ç‰ˆæœ¬ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®è¿›è¡Œæ¼”ç¤ºï¼Œç”Ÿäº§ç¯å¢ƒéœ€è¦è¿æ¥çœŸå®çš„ `metrics_daily` æ•°æ®è¡¨ã€‚